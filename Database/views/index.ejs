<html lang="en">
  <body>
    <%- include('./partials/head.ejs') %> <%- include('./partials/header.ejs')
    %>
    <h1>Home</h1>

    <div class="row">
      <div class="col-md-3">
        <form action="/" method="POST">
          <input type="text" name="keyword" placeholder="Search by title" />
          <input type="submit" value="Search" />
        </form>
      </div>
      <div class="col-md-3">
        <form action="/searchAuthor" method="POST">
          <input type="text" name="keyword" placeholder="Search by author" />
          <input type="submit" value="Search" />
        </form>
      </div>
      <div class="col-md-3">
        <form action="/searchPublisher" method="POST">
          <input type="text" name="keyword" placeholder="Search by publisher" />
          <input type="submit" value="Search" />
        </form>
      </div>
      <div class="col-md-3">
        <form action="/searchCategory" method="POST">
          <input type="text" name="keyword" placeholder="Search by category" />
          <input type="submit" value="Search" />
        </form>
      </div>
    </div>

    <button onclick="sortTable_Int_Float(0)">Sort by id</button>
    <button onclick="sortTable_Int_Float(1)">Sort by ISBN</button>
    <button onclick="sortTable(2)">Sort by title</button>
    <button onclick="sortTable_Int_Float(3)">Sort by year</button>
    <button onclick="sortTable_Int_Float(4)">Sort by price</button>
    <button onclick="sortTable_Int_Float(5)">Sort by rating</button>
    <button onclick="sortTable_Int_Float(6)">Sort by length</button>
    <button onclick="sortTable(7)">Sort by author</button>
    <button onclick="sortTable(8)">Sort by publisher</button>
    <button onclick="sortTable(9)">Sort by location</button>
    <button onclick="sortTable(10)">Sort by category</button>
    <button onclick="sortTable(11)">Sort by format</button>
    <button onclick="sortTable_Int_Float(14)">Sort by quantity</button>

    <form action="/" method="GET">
      <br />
      <div class="table-responsive">
        <table border="1" id="table">
          <thead class="thead-dark">
            <tr>
              <th>id</th>
              <th>ISBN</th>
              <th>Title</th>
              <th>Year</th>
              <th>Price</th>
              <th>Rating</th>
              <th>Length</th>
              <th>Author</th>
              <th>Publisher</th>
              <th>Location</th>
              <th>Category</th>
              <th>Format</th>
              <th>URL</th>
              <th>Image</th>
              <th>Quantity</th>
            </tr>
          </thead>
          <% if (book.length == 0) { %>
          <p>No book title named <%=search%></p>
          <% } else { %> <% for(var i = 0; i < book.length; i++) { %>
          <tr>
            <td><%=book[i].id%></td>
            <td><%=book[i].ISBN%></td>
            <td><%=book[i].title%></td>
            <td><%=book[i].year%></td>
            <td><%=book[i].price%></td>
            <td><%=book[i].rating%></td>
            <td><%=book[i].length%></td>
            <td><%=author[i].author%></td>
            <td><%=publisher[i].publisher%></td>
            <td><%=location[i].city%>, <%=location[i].country%></td>
            <td><%=category[i].category%></td>
            <td><%=format[i].format%></td>
            <td>
              <a href="<%=cover[i].url%>"><%=cover[i].url%></a>
            </td>
            <td><%=cover[i].image%></td>
            <td><%=inventory[i].quantity%></td>
          </tr>
          <% } %> <% } %>
        </table>
      </div>
    </form>
    <%- include('./partials/footer.ejs') %>
  </body>
</html>
